<% var i=0; %>
    <% while(i< prodotti.length) { %>
        <div class="row">

            <div class="col-sm-6">
                <div class="thumbnail">
                    <img src="https://source.unsplash.com/280x280/?technology" alt="">
                    <div class="caption">
                        <h3 style="text-align: center">
                            <%= prodotti[i].nome %>
                        </h3>
                        <p style="text-align: justify">
                            <%= prodotti[i].descrizione %>
                        </p>
                        <h3 style="text-align: center">
                            <%= prodotti[i].prezzo %> €
                        </h3>
                        <h3 style="text-align: center">
                            quantità :
                            <%= prodotti[i].quantita %>
                        </h3>

                    </div>
                </div>
            </div>

            <div class="col-sm-3">

                <form id="form-modifica" class="singin-form" method="POST" action="/amministrazione/update">

                    <div class="form-group">
                        <input type="hidden" class="col-form-label" name="id" value="<%- prodotti[i]._id %>">

                    </div>
                    <div class="form-group">
                        <label class="col-form-label" for="nome" required>Nome:</label>
                        <input class="singin-input" name="nome" type="text" id="nome" value="<%- prodotti[i].nome %>">
                        <span class="error" aria-live="polite"></span>
                    </div>

                    <div class="form-group">
                        <label class="col-form-label" for="quantità" required>Quantità:</label>
                        <input class="singin-input" name="quantita" type="number" min="1" id="quantita" value="<%- prodotti[i].quantita %>">
                        <span class="error" aria-live="polite"></span>
                    </div>
                    <div class="form-group">
                        <label class="col-form-label" for="indirizzo" required>Prezzo:</label>
                        <input class="singin-input" name="prezzo" type="number" min="1"id="prezzo" value="<%- prodotti[i].prezzo %>">
                        <span class="error" aria-live="polite"></span>
                    </div>
                    <div class="form-group">
                        <label for="inputCategoria">Categoria</label>
                        <select id="categoria" class="form-control" name="categoria">
                            <option selected>desktops</option>
                            <option>laptops</option>
                            <option>monitors</option>
                            <option>tablets</option>
                            <option>accessori</option>
                        </select>
                        <span class="error" aria-live="polite"></span>
                    </div>
                    <div class="form-group">
                        <label class="col-form-label" for="descrizione" required>Descrizione:</label>
                        <textarea class="form-control" id="descrizioneTextarea" name="descrizione" type="text" rows="3"><%- prodotti[i].descrizione %></textarea>
                        <span class="error" aria-live="polite"></span>
                    </div>

                    <div class="form-group">
                        <!-- value da "Invia" a "Salva modifiche" -->
                        <button class="btn btn-primary" type="submit" id="modifica">Modifica</button>
                        <button class="btn btn-danger" type="submit" formaction="/amministrazione/delete?id=<%- prodotti[i]._id %>">Elimina</button>
                    </div>
                </form>
            </div>
            <% i++; %>

        </div>
        <% } %>
        <script>
        var testo = document.querySelectorAll('input[type=text]');
var number = document.querySelectorAll('input[type=number]');
var form = document.getElementById("form-modifica");
var error = document.querySelector('.error');

testo.addEventListener("input", function (event) {
        // Each time the user types something, we check if the
        // email field is valid.
        if (testo.validity.valid) {
                // In case there is an error message visible, if the field
                // is valid, we remove the error message.
                error.innerHTML = ""; // Reset the content of the message
                error.className = "error"; // Reset the visual state of the message
        }
}, false);

number.addEventListener("input", function (event) {
        // Each time the user types something, we check if the
        // email field is valid.
        if (number.validity.valid) {
                // In case there is an error message visible, if the field
                // is valid, we remove the error message.
                error.innerHTML = ""; // Reset the content of the message
                error.className = "error"; // Reset the visual state of the message
        }
}, false);

form.addEventListener("submit", function (event) {
        // Each time the user tries to send the data, we check
        // if the email field is valid.
        if (!testo.validity.valid || !number.validity.valid) {

                // If the field is not valid, we display a custom
                // error message.
                error.innerHTML = "dati non corretti!";
                error.className = "error active";
                // And we prevent the form from being sent by canceling the event
                event.preventDefault();
        }
}, false);
        </script>